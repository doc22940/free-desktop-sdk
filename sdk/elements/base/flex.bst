kind: autotools

depends:
- filename: bootstrap-import.bst
- filename: base/texinfo.bst
  type: build
- filename: base/help2man.bst
  type: build
- filename: base/m4.bst
- filename: base/automake.bst
  type: build
- filename: base/autoconf.bst
  type: build
- filename: base/libtool.bst
  type: build
- filename: base/gettext.bst
  type: build
- filename: base/tar.bst
  type: build
- filename: base/gzip.bst
  type: build

config:
  configure-commands:
    (<):
    - |
      ./autogen.sh

  install-commands:
    (>):
    - |
      rm "%{install-root}%{infodir}/dir"

public:
  bst:
    split-rules:
      devel:
        (>):
        - "%{libdir}/libfl.so"

sources:
- kind: tar
  url: https://github.com/westes/flex/files/981163/flex-2.6.4.tar.gz
  ref: e87aae032bf07c26f85ac0ed3250998c37621d95f8bd748b31f15b33c45ee995
  etag: '"2882e3179748cc9f9c23ec593d6adc8d"'
- kind: patch
  path: patches/flex-pie.patch
