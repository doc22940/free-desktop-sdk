kind: flatpak-image

config:
  directory: "%{prefix}"
  exclude:
    - debug
    - docs
    - locale

  metadata:
    Runtime:
      name: org.freedesktop.BaseSdk
      runtime: org.freedesktop.BasePlatform/%{gcc_arch}/%{branch}
      sdk: org.freedesktop.BaseSdk/%{gcc_arch}/%{branch}

    'Extension org.freedesktop.BaseSdk.Debug':
      directory: "lib/debug"
      autodelete: "true"
      no-autodownload: "true"

    'Extension org.freedesktop.BaseSdk.Docs':
      directory: "share/runtime/docs"
      autodelete: "true"
      no-autodownload: "true"

    'Extension org.freedesktop.BasePlatform.Locale':
      directory: "share/runtime/locale"
      autodelete: "true"
      locale-subset: "true"

    'Extension org.freedesktop.BaseSdk.Extension':
      subdirectories: "true"
      directory: "lib/sdk"
      no-autodownload: "true"
      add-ld-path: "lib"

depends:
  - filename: base-image.bst
    type: build
  - filename: flatpak-sdk-dirs.bst
    type: build
